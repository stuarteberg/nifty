
package:
    name: nifty
    version: v1.0.5

source:
  path: ..

build:
  number: 1000

requirements:
  build:
    - cmake
    - {{ compiler("cxx")}}
  host:
    - python {{ python }}
    - boost-cpp {{ boost }}
    - hdf5 {{ hdf5 }}
    - numpy {{ numpy }}
    - xtensor >=0.19,<0.20
    - xtensor-python >=0.22,<0.23
    - nlohmann_json
    - blosc  # [not win]
    - bzip2  # [not win]
    - zlib  # [not win]
    - z5py  # [not win]
    - vigra

  run:
    - python
    - {{ pin_compatible("boost-cpp") }}
    - hdf5
    - {{ pin_compatible("numpy") }}
    - scikit-image
    - vigra
    - blosc  # [not win]
    - bzip2  # [not win]
    - zlib  # [not win]

test:
    imports:
      - nifty
    source_files:
      - src/python/test/graph/*.py
    commands:
      - python -m unittest discover -s src/python/test -v

about:
  home: https://github.com/DerThorsten/nifty
  license: MIT
  summary: Graph-based segmentation algorithms
